{"ast":null,"code":"import _slicedToArray from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'../DoNext.css';import useLocalStorageState from'use-local-storage-state';import{EventStorageKey,ProjectStorageKey,TaskStorageKey,TodoStorageKey,TrackStorageKey}from'../Constants';import LoadData from'../LoadData';import UnloadData from'../UnloadData';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var defaultToDoData={todos:[{text:\"Download default configuration\",done:0,days:[]},{text:\"Edit to make it yours\",done:0,days:[]},{text:\"Ingest your data\",done:0,days:[]}]};export var defaultEventData={routine:[{text:\"Sleep\",start:82800000,duration:26400000},{text:\"Work - morning\",start:30600000,duration:14400000},{text:\"Work - afternoon\",start:48600000,duration:14400000}],events:[{text:\"Download default configuration\",start:0,duration:0},{text:\"Edit to make it yours\",start:0,duration:0},{text:\"Ingest your data\",start:0,duration:0}]};export var defaultProjectData={projects:[],last_id:0};export var defaultTrackData={tracks:[]};export var defaultTaskData={tasks:[],last_id:0};var Storage=function Storage(){var _useLocalStorageState=useLocalStorageState(TodoStorageKey,{defaultValue:defaultToDoData}),_useLocalStorageState2=_slicedToArray(_useLocalStorageState,2),todoStorage=_useLocalStorageState2[0],setTodoStorage=_useLocalStorageState2[1];var _useLocalStorageState3=useLocalStorageState(EventStorageKey,{defaultValue:defaultEventData}),_useLocalStorageState4=_slicedToArray(_useLocalStorageState3,2),eventStorage=_useLocalStorageState4[0],setEventStorage=_useLocalStorageState4[1];var _useLocalStorageState5=useLocalStorageState(TaskStorageKey,{defaultValue:defaultTaskData}),_useLocalStorageState6=_slicedToArray(_useLocalStorageState5,2),taskStorage=_useLocalStorageState6[0],setTaskStorage=_useLocalStorageState6[1];var _useLocalStorageState7=useLocalStorageState(TrackStorageKey,{defaultValue:defaultEventData}),_useLocalStorageState8=_slicedToArray(_useLocalStorageState7,2),trackStorage=_useLocalStorageState8[0],setTrackStorage=_useLocalStorageState8[1];var _useLocalStorageState9=useLocalStorageState(ProjectStorageKey,{defaultValue:defaultProjectData}),_useLocalStorageState10=_slicedToArray(_useLocalStorageState9,2),projectStorage=_useLocalStorageState10[0],setProjectStorage=_useLocalStorageState10[1];var todoData=JSON.stringify(todoStorage,null,2);var eventData=JSON.stringify(eventStorage,null,2);var taskData=JSON.stringify(taskStorage,null,2);var trackData=JSON.stringify(trackStorage,null,2);var projectData=JSON.stringify(projectStorage,null,2);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"storageTodo\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Todos Storage\"}),/*#__PURE__*/_jsx(LoadData,{setData:setTodoStorage,prompt:\"Ingest todos:\"}),/*#__PURE__*/_jsx(UnloadData,{jsonData:todoData,prompt:\"Download todos\",fileName:\"doNextTodoDownload.json\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storageEvent\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Events Storage\"}),/*#__PURE__*/_jsx(LoadData,{setData:setEventStorage,prompt:\"Ingest events:\"}),/*#__PURE__*/_jsx(UnloadData,{jsonData:eventData,prompt:\"Download events\",fileName:\"doNextEventsDownload.json\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storageTask\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tasks Storage\"}),/*#__PURE__*/_jsx(LoadData,{setData:setTaskStorage,prompt:\"Ingest tasks:\"}),/*#__PURE__*/_jsx(UnloadData,{jsonData:taskData,prompt:\"Download tasks\",fileName:\"doNextTasksDownload.json\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storageTrack\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Tracks Storage\"}),/*#__PURE__*/_jsx(LoadData,{setData:setTrackStorage,prompt:\"Ingest tracks:\"}),/*#__PURE__*/_jsx(UnloadData,{jsonData:trackData,prompt:\"Download tracks\",fileName:\"doNextTracksDownload.json\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storageProject\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Projects Storage\"}),/*#__PURE__*/_jsx(LoadData,{setData:setProjectStorage,prompt:\"Ingest projects:\"}),/*#__PURE__*/_jsx(UnloadData,{jsonData:projectData,prompt:\"Download projects\",fileName:\"doNextProjectsDownload.json\"})]})]});};export default Storage;","map":{"version":3,"names":["React","useLocalStorageState","EventStorageKey","ProjectStorageKey","TaskStorageKey","TodoStorageKey","TrackStorageKey","LoadData","UnloadData","defaultToDoData","todos","text","done","days","defaultEventData","routine","start","duration","events","defaultProjectData","projects","last_id","defaultTrackData","tracks","defaultTaskData","tasks","Storage","defaultValue","todoStorage","setTodoStorage","eventStorage","setEventStorage","taskStorage","setTaskStorage","trackStorage","setTrackStorage","projectStorage","setProjectStorage","todoData","JSON","stringify","eventData","taskData","trackData","projectData"],"sources":["/Users/dhs/do-next/src/storage/Storage.tsx"],"sourcesContent":["import React from 'react'\nimport '../DoNext.css'\nimport useLocalStorageState from 'use-local-storage-state'\nimport { EventStorageKey, ProjectStorageKey, TaskStorageKey, TodoStorageKey, TrackStorageKey } from '../Constants'\nimport { EventSet, TodoSet, ProjectSet, TrackSet, TaskSet } from '../DoData'\nimport LoadData from '../LoadData'\nimport UnloadData from '../UnloadData'\n\nexport const defaultToDoData: TodoSet = {\n    todos: [\n        { text: \"Download default configuration\", done: 0, days: [] },\n        { text: \"Edit to make it yours\", done: 0, days: [] },\n        { text: \"Ingest your data\", done: 0, days: [] },\n    ]\n}\n\nexport const defaultEventData: EventSet = {\n    routine: [\n        {\n            text: \"Sleep\",\n            start: 82800000,\n            duration: 26400000\n        },\n        {\n            text: \"Work - morning\",\n            start: 30600000,\n            duration: 14400000\n        },\n        {\n            text: \"Work - afternoon\",\n            start: 48600000,\n            duration: 14400000\n        }\n    ],\n    events: [\n        { text: \"Download default configuration\", start: 0, duration: 0 },\n        { text: \"Edit to make it yours\", start: 0, duration: 0 },\n        { text: \"Ingest your data\", start: 0, duration: 0 },\n    ]\n}\n\nexport const defaultProjectData: ProjectSet = {\n    projects: [],\n    last_id: 0,\n}\n\nexport const defaultTrackData: TrackSet = {\n    tracks: []\n}\n\nexport const defaultTaskData: TaskSet = {\n    tasks: [],\n    last_id: 0,\n}\n\nconst Storage = () => {\n\n    const [todoStorage, setTodoStorage] = useLocalStorageState(TodoStorageKey, {\n        defaultValue: defaultToDoData\n    })\n\n    const [eventStorage, setEventStorage] = useLocalStorageState(EventStorageKey, {\n        defaultValue: defaultEventData\n    })\n\n    const [taskStorage, setTaskStorage] = useLocalStorageState(TaskStorageKey, {\n        defaultValue: defaultTaskData\n    })\n\n    const [trackStorage, setTrackStorage] = useLocalStorageState(TrackStorageKey, {\n        defaultValue: defaultEventData\n    })\n\n    const [projectStorage, setProjectStorage] = useLocalStorageState(ProjectStorageKey, {\n        defaultValue: defaultProjectData\n    })\n\n    const todoData = JSON.stringify(todoStorage, null, 2)\n    const eventData = JSON.stringify(eventStorage, null, 2)\n    const taskData = JSON.stringify(taskStorage, null, 2)\n    const trackData = JSON.stringify(trackStorage, null, 2)\n    const projectData = JSON.stringify(projectStorage, null, 2)\n\n    return <>\n        <div className='storageTodo'>\n            <h3>Todos Storage</h3>\n            <LoadData setData={setTodoStorage} prompt={\"Ingest todos:\"} />\n            <UnloadData jsonData={todoData} prompt={\"Download todos\"} fileName='doNextTodoDownload.json' />\n        </div>\n        <div className='storageEvent'>\n            <h3>Events Storage</h3>\n            <LoadData setData={setEventStorage} prompt={\"Ingest events:\"} />\n            <UnloadData jsonData={eventData} prompt={\"Download events\"} fileName='doNextEventsDownload.json' />\n        </div>\n        <div className='storageTask'>\n            <h3>Tasks Storage</h3>\n            <LoadData setData={setTaskStorage} prompt={\"Ingest tasks:\"} />\n            <UnloadData jsonData={taskData} prompt={\"Download tasks\"} fileName='doNextTasksDownload.json' />\n        </div>\n        <div className='storageTrack'>\n            <h3>Tracks Storage</h3>\n            <LoadData setData={setTrackStorage} prompt={\"Ingest tracks:\"} />\n            <UnloadData jsonData={trackData} prompt={\"Download tracks\"} fileName='doNextTracksDownload.json' />\n        </div>\n        <div className='storageProject'>\n            <h3>Projects Storage</h3>\n            <LoadData setData={setProjectStorage} prompt={\"Ingest projects:\"} />\n            <UnloadData jsonData={projectData} prompt={\"Download projects\"} fileName='doNextProjectsDownload.json' />\n        </div>\n    </>\n}\n\nexport default Storage\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}