{"ast":null,"code":"import _slicedToArray from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import useLocalStorageState from'use-local-storage-state';import{EventStorageKey}from'../Constants';import{defaultEventData}from'../storage/Storage';import EventElement from'./EventElement';import EventSorter from'./EventSorter';import EventEdit from'./EventEdit';import{eventStore}from'./EventStore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emptyEvent={id:0,text:\"\",start:0,duration:0};var Events=function Events(){var _useLocalStorageState=useLocalStorageState(EventStorageKey,{defaultValue:defaultEventData}),_useLocalStorageState2=_slicedToArray(_useLocalStorageState,2),eventStorage=_useLocalStorageState2[0],setEventStorage=_useLocalStorageState2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var save=function save(event){setEdit(false);eventStore(event,eventStorage,setEventStorage);};var currentEvents=EventSorter(eventStorage);var size=currentEvents.length;var result=[];for(var index=0;index<size;index++){result.push(/*#__PURE__*/_jsx(EventElement,{index:index,events:currentEvents},index));}return/*#__PURE__*/_jsxs(\"div\",{className:\"events\",children:[result,edit&&/*#__PURE__*/_jsx(EventEdit,{event:emptyEvent,save:save}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setEdit(true);},children:\"+\"})]});};export default Events;","map":{"version":3,"names":["React","useState","useLocalStorageState","EventStorageKey","defaultEventData","EventElement","EventSorter","EventEdit","eventStore","emptyEvent","id","text","start","duration","Events","defaultValue","eventStorage","setEventStorage","edit","setEdit","save","event","currentEvents","size","length","result","index","push"],"sources":["/Users/dhs/do-next/src/event/Events.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport useLocalStorageState from 'use-local-storage-state'\nimport { EventStorageKey } from '../Constants'\nimport { defaultEventData } from '../storage/Storage'\nimport EventElement from './EventElement'\nimport EventSorter from './EventSorter'\nimport { Event } from '../DoData'\nimport EventEdit from './EventEdit'\nimport { eventStore } from './EventStore'\n\nconst emptyEvent: Event = {\n    id: 0,\n    text: \"\",\n    start: 0,\n    duration: 0,\n}\n\nconst Events = () => {\n    const [eventStorage, setEventStorage] = useLocalStorageState(EventStorageKey, {\n        defaultValue: defaultEventData\n    })\n    const [edit, setEdit] = useState(false)\n\n    const save = (event: Event) => {\n        setEdit(false)\n        eventStore(event, eventStorage, setEventStorage)\n    }\n\n    const currentEvents = EventSorter(eventStorage)\n\n    const size = currentEvents.length\n    let result = []\n    for (let index = 0; index < size; index++) {\n        result.push(<EventElement key={index} index={index} events={currentEvents} />)\n    }\n\n    return <div className=\"events\">\n        {result}\n        {edit && <EventEdit event={emptyEvent} save={save} />}\n        <button onClick={() => setEdit(true)} >+</button>\n    </div>\n\n}\n\nexport default Events\n"],"mappings":"wGAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,qBAAP,KAAiC,yBAAjC,CACA,OAASC,eAAT,KAAgC,cAAhC,CACA,OAASC,gBAAT,KAAiC,oBAAjC,CACA,MAAOC,aAAP,KAAyB,gBAAzB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CAEA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAASC,UAAT,KAA2B,cAA3B,C,wFAEA,GAAMC,WAAiB,CAAG,CACtBC,EAAE,CAAE,CADkB,CAEtBC,IAAI,CAAE,EAFgB,CAGtBC,KAAK,CAAE,CAHe,CAItBC,QAAQ,CAAE,CAJY,CAA1B,CAOA,GAAMC,OAAM,CAAG,QAATA,OAAS,EAAM,CACjB,0BAAwCZ,oBAAoB,CAACC,eAAD,CAAkB,CAC1EY,YAAY,CAAEX,gBAD4D,CAAlB,CAA5D,gEAAOY,YAAP,2BAAqBC,eAArB,2BAGA,cAAwBhB,QAAQ,CAAC,KAAD,CAAhC,wCAAOiB,IAAP,eAAaC,OAAb,eAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,KAAD,CAAkB,CAC3BF,OAAO,CAAC,KAAD,CAAP,CACAX,UAAU,CAACa,KAAD,CAAQL,YAAR,CAAsBC,eAAtB,CAAV,CACH,CAHD,CAKA,GAAMK,cAAa,CAAGhB,WAAW,CAACU,YAAD,CAAjC,CAEA,GAAMO,KAAI,CAAGD,aAAa,CAACE,MAA3B,CACA,GAAIC,OAAM,CAAG,EAAb,CACA,IAAK,GAAIC,MAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGH,IAA5B,CAAkCG,KAAK,EAAvC,CAA2C,CACvCD,MAAM,CAACE,IAAP,cAAY,KAAC,YAAD,EAA0B,KAAK,CAAED,KAAjC,CAAwC,MAAM,CAAEJ,aAAhD,EAAmBI,KAAnB,CAAZ,EACH,CAED,mBAAO,aAAK,SAAS,CAAC,QAAf,WACFD,MADE,CAEFP,IAAI,eAAI,KAAC,SAAD,EAAW,KAAK,CAAET,UAAlB,CAA8B,IAAI,CAAEW,IAApC,EAFN,cAGH,eAAQ,OAAO,CAAE,yBAAMD,QAAO,CAAC,IAAD,CAAb,EAAjB,eAHG,GAAP,CAMH,CAzBD,CA2BA,cAAeL,OAAf"},"metadata":{},"sourceType":"module"}