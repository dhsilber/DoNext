{"ast":null,"code":"import _slicedToArray from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{formatDate}from'../DateUtilities';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TrackEdit=function TrackEdit(_ref){var track=_ref.track,save=_ref.save;var _useState=useState(track.text||''),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(track.tracked||[]),_useState4=_slicedToArray(_useState3,2),tracked=_useState4[0],setTracked=_useState4[1];var hasTimestamps=tracked.length>0;var lastTimestamp=hasTimestamps?formatDate(new Date(tracked[0])):'';return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"text:\",/*#__PURE__*/_jsx(\"input\",{defaultValue:text,size:40,onInput:function onInput(event){var data=event.target.value;setText(data);}})]}),/*#__PURE__*/_jsx(\"br\",{}),hasTimestamps&&/*#__PURE__*/_jsxs(\"label\",{children:[\"last:\",/*#__PURE__*/_jsx(\"input\",{defaultValue:lastTimestamp,size:40,onInput:function onInput(event){var dataString=event.target.value;var newString=dataString.slice(0,10)+'T'+dataString.slice(11,16)+':00.000';var data=Date.parse(newString);tracked[0]=data;setTracked(tracked);}})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){save({text:text,tracked:tracked});},children:\"Done\"}),/*#__PURE__*/_jsx(\"br\",{})]});};export default TrackEdit;","map":{"version":3,"names":["React","useState","formatDate","TrackEdit","track","save","text","setText","tracked","setTracked","hasTimestamps","length","lastTimestamp","Date","event","data","target","value","dataString","newString","slice","parse"],"sources":["/Users/dhs/do-next/src/track/TrackEdit.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { formatDate } from '../DateUtilities'\nimport { Track } from '../DoData'\n\ninterface TrackEditProps {\n    track: Track\n    save: (track: Track) => void\n}\n\nconst TrackEdit = ({ track, save }: TrackEditProps) => {\n    const [text, setText] = useState(track.text || '')\n    const [tracked, setTracked] = useState(track.tracked || [])\n\n    const hasTimestamps = tracked.length > 0\n    const lastTimestamp = hasTimestamps ? formatDate(new Date(tracked[0])) : ''\n\n    return <>\n        <label>text:<input\n            defaultValue={text}\n            size={40}\n            onInput={event => {\n                const data = (event.target as HTMLInputElement).value\n                setText(data)\n            }}\n        /></label>\n        <br />\n        {hasTimestamps && <label>last:<input\n            defaultValue={lastTimestamp}\n            size={40}\n            onInput={event => {\n                const dataString = (event.target as HTMLInputElement).value\n                const newString = dataString.slice(0,10) + 'T' + dataString.slice(11,16) + ':00.000'\n                const data = Date.parse(newString)\n                tracked[0] = data\n                setTracked(tracked)\n            }}\n        /></label>}\n        <br />\n        <button onClick={() => {\n            save({ text: text, tracked: tracked })\n        }} >Done</button>\n        <br />\n    </>\n}\n\nexport default TrackEdit\n"],"mappings":"wGAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,UAAT,KAA2B,kBAA3B,C,6IAQA,GAAMC,UAAS,CAAG,QAAZA,UAAY,MAAqC,IAAlCC,MAAkC,MAAlCA,KAAkC,CAA3BC,IAA2B,MAA3BA,IAA2B,CACnD,cAAwBJ,QAAQ,CAACG,KAAK,CAACE,IAAN,EAAc,EAAf,CAAhC,wCAAOA,IAAP,eAAaC,OAAb,eACA,eAA8BN,QAAQ,CAACG,KAAK,CAACI,OAAN,EAAiB,EAAlB,CAAtC,yCAAOA,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,cAAa,CAAGF,OAAO,CAACG,MAAR,CAAiB,CAAvC,CACA,GAAMC,cAAa,CAAGF,aAAa,CAAGR,UAAU,CAAC,GAAIW,KAAJ,CAASL,OAAO,CAAC,CAAD,CAAhB,CAAD,CAAb,CAAsC,EAAzE,CAEA,mBAAO,wCACH,8CAAY,cACR,YAAY,CAAEF,IADN,CAER,IAAI,CAAE,EAFE,CAGR,OAAO,CAAE,iBAAAQ,KAAK,CAAI,CACd,GAAMC,KAAI,CAAID,KAAK,CAACE,MAAP,CAAmCC,KAAhD,CACAV,OAAO,CAACQ,IAAD,CAAP,CACH,CANO,EAAZ,GADG,cASH,aATG,CAUFL,aAAa,eAAI,8CAAY,cAC1B,YAAY,CAAEE,aADY,CAE1B,IAAI,CAAE,EAFoB,CAG1B,OAAO,CAAE,iBAAAE,KAAK,CAAI,CACd,GAAMI,WAAU,CAAIJ,KAAK,CAACE,MAAP,CAAmCC,KAAtD,CACA,GAAME,UAAS,CAAGD,UAAU,CAACE,KAAX,CAAiB,CAAjB,CAAmB,EAAnB,EAAyB,GAAzB,CAA+BF,UAAU,CAACE,KAAX,CAAiB,EAAjB,CAAoB,EAApB,CAA/B,CAAyD,SAA3E,CACA,GAAML,KAAI,CAAGF,IAAI,CAACQ,KAAL,CAAWF,SAAX,CAAb,CACAX,OAAO,CAAC,CAAD,CAAP,CAAaO,IAAb,CACAN,UAAU,CAACD,OAAD,CAAV,CACH,CATyB,EAAZ,GAVf,cAqBH,aArBG,cAsBH,eAAQ,OAAO,CAAE,kBAAM,CACnBH,IAAI,CAAC,CAAEC,IAAI,CAAEA,IAAR,CAAcE,OAAO,CAAEA,OAAvB,CAAD,CAAJ,CACH,CAFD,kBAtBG,cAyBH,aAzBG,GAAP,CA2BH,CAlCD,CAoCA,cAAeL,UAAf"},"metadata":{},"sourceType":"module"}