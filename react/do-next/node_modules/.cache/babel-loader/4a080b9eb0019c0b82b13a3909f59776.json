{"ast":null,"code":"import{NO_ELEMENT_FOUND}from\"../Constants\";export var projectStore=function projectStore(project,allProjects,setStore){if(project.text.length===0){return;}if(project.id===0){project.id=allProjects.last_id+1;allProjects.projects.push(project);allProjects.last_id+=1;}else{var existingProjectIndex=allProjects.projects.findIndex(function(item){return item.id===project.id;});if(existingProjectIndex===NO_ELEMENT_FOUND){project.id=0;projectStore(project,allProjects,setStore);return;}else{allProjects.projects.splice(existingProjectIndex,1,project);}}// const existingProject = allProjects.projects.find(item => item.text === project.text)\n// if (existingProject === undefined) {\n//     allProjects.projects.push(project)\n// }\n// else {\n//     existingProject.minutes = project.minutes\n// }\nsetStore(allProjects);};","map":{"version":3,"names":["NO_ELEMENT_FOUND","projectStore","project","allProjects","setStore","text","length","id","last_id","projects","push","existingProjectIndex","findIndex","item","splice"],"sources":["/Users/dhs/do-next/src/project/ProjectStore.ts"],"sourcesContent":["import { NO_ELEMENT_FOUND } from \"../Constants\";\nimport { Project, ProjectSet } from \"../DoData\";\n\nexport const projectStore = (\n    project: Project,\n    allProjects: ProjectSet,\n    setStore: (data: ProjectSet) => void\n) => {\n    if (project.text.length === 0) {\n        return\n    }\n\n    if (project.id === 0) {\n        project.id = allProjects.last_id + 1\n        allProjects.projects.push(project)\n        allProjects.last_id += 1\n    }\n    else {\n        const existingProjectIndex = allProjects.projects\n            .findIndex(item => item.id === project.id)\n        if (existingProjectIndex === NO_ELEMENT_FOUND) {\n            project.id = 0\n            projectStore(project, allProjects, setStore)\n            return\n        }\n        else {\n            allProjects.projects.splice(existingProjectIndex, 1, project)\n        }\n    }\n\n    // const existingProject = allProjects.projects.find(item => item.text === project.text)\n    // if (existingProject === undefined) {\n    //     allProjects.projects.push(project)\n    // }\n    // else {\n    //     existingProject.minutes = project.minutes\n    // }\n\n    setStore(allProjects)\n}\n"],"mappings":"AAAA,OAASA,gBAAT,KAAiC,cAAjC,CAGA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CACxBC,OADwB,CAExBC,WAFwB,CAGxBC,QAHwB,CAIvB,CACD,GAAIF,OAAO,CAACG,IAAR,CAAaC,MAAb,GAAwB,CAA5B,CAA+B,CAC3B,OACH,CAED,GAAIJ,OAAO,CAACK,EAAR,GAAe,CAAnB,CAAsB,CAClBL,OAAO,CAACK,EAAR,CAAaJ,WAAW,CAACK,OAAZ,CAAsB,CAAnC,CACAL,WAAW,CAACM,QAAZ,CAAqBC,IAArB,CAA0BR,OAA1B,EACAC,WAAW,CAACK,OAAZ,EAAuB,CAAvB,CACH,CAJD,IAKK,CACD,GAAMG,qBAAoB,CAAGR,WAAW,CAACM,QAAZ,CACxBG,SADwB,CACd,SAAAC,IAAI,QAAIA,KAAI,CAACN,EAAL,GAAYL,OAAO,CAACK,EAAxB,EADU,CAA7B,CAEA,GAAII,oBAAoB,GAAKX,gBAA7B,CAA+C,CAC3CE,OAAO,CAACK,EAAR,CAAa,CAAb,CACAN,YAAY,CAACC,OAAD,CAAUC,WAAV,CAAuBC,QAAvB,CAAZ,CACA,OACH,CAJD,IAKK,CACDD,WAAW,CAACM,QAAZ,CAAqBK,MAArB,CAA4BH,oBAA5B,CAAkD,CAAlD,CAAqDT,OAArD,EACH,CACJ,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AAEAE,QAAQ,CAACD,WAAD,CAAR,CACH,CApCM"},"metadata":{},"sourceType":"module"}