{"ast":null,"code":"import{NO_ELEMENT_FOUND}from'../Constants';export var taskStore=function taskStore(task,allTasks,setStore){if(task.text.length===0){return;}if(task.id===0){task.id=allTasks.last_id+1;allTasks.tasks.push(task);allTasks.last_id+=1;}else{var existingTaskIndex=allTasks.tasks.findIndex(function(item){return item.id===task.id;});if(existingTaskIndex===NO_ELEMENT_FOUND){task.id=0;taskStore(task,allTasks,setStore);return;}else{console.log(\"Replacing task \".concat(task.id,\" at index \").concat(existingTaskIndex));allTasks.tasks.splice(existingTaskIndex,1,task);}}setStore(allTasks);};","map":{"version":3,"names":["NO_ELEMENT_FOUND","taskStore","task","allTasks","setStore","text","length","id","last_id","tasks","push","existingTaskIndex","findIndex","item","console","log","splice"],"sources":["/Users/dhs/do-next/src/task/TaskStore.ts"],"sourcesContent":["import { NO_ELEMENT_FOUND } from '../Constants';\nimport { Task, TaskSet } from '../DoData';\n\nexport const taskStore = (\n    task: Task,\n    allTasks: TaskSet,\n    setStore: (data: TaskSet) => void\n) => {\n    if (task.text.length === 0) {\n        return\n    }\n\n    if (task.id === 0) {\n        task.id = allTasks.last_id + 1\n        allTasks.tasks.push(task)\n        allTasks.last_id += 1\n    }\n    else {\n        const existingTaskIndex = allTasks.tasks\n            .findIndex(item => item.id === task.id)\n        if (existingTaskIndex === NO_ELEMENT_FOUND) {\n            task.id = 0\n            taskStore(task, allTasks, setStore)\n            return\n        }\n        else {\n            console.log(`Replacing task ${task.id} at index ${existingTaskIndex}`)\n            allTasks.tasks.splice(existingTaskIndex, 1, task)\n        }\n    }\n\n    setStore(allTasks)\n}\n"],"mappings":"AAAA,OAASA,gBAAT,KAAiC,cAAjC,CAGA,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAY,CACrBC,IADqB,CAErBC,QAFqB,CAGrBC,QAHqB,CAIpB,CACD,GAAIF,IAAI,CAACG,IAAL,CAAUC,MAAV,GAAqB,CAAzB,CAA4B,CACxB,OACH,CAED,GAAIJ,IAAI,CAACK,EAAL,GAAY,CAAhB,CAAmB,CACfL,IAAI,CAACK,EAAL,CAAUJ,QAAQ,CAACK,OAAT,CAAmB,CAA7B,CACAL,QAAQ,CAACM,KAAT,CAAeC,IAAf,CAAoBR,IAApB,EACAC,QAAQ,CAACK,OAAT,EAAoB,CAApB,CACH,CAJD,IAKK,CACD,GAAMG,kBAAiB,CAAGR,QAAQ,CAACM,KAAT,CACrBG,SADqB,CACX,SAAAC,IAAI,QAAIA,KAAI,CAACN,EAAL,GAAYL,IAAI,CAACK,EAArB,EADO,CAA1B,CAEA,GAAII,iBAAiB,GAAKX,gBAA1B,CAA4C,CACxCE,IAAI,CAACK,EAAL,CAAU,CAAV,CACAN,SAAS,CAACC,IAAD,CAAOC,QAAP,CAAiBC,QAAjB,CAAT,CACA,OACH,CAJD,IAKK,CACDU,OAAO,CAACC,GAAR,0BAA8Bb,IAAI,CAACK,EAAnC,sBAAkDI,iBAAlD,GACAR,QAAQ,CAACM,KAAT,CAAeO,MAAf,CAAsBL,iBAAtB,CAAyC,CAAzC,CAA4CT,IAA5C,EACH,CACJ,CAEDE,QAAQ,CAACD,QAAD,CAAR,CACH,CA7BM"},"metadata":{},"sourceType":"module"}