{"ast":null,"code":"import _slicedToArray from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import useLocalStorageState from'use-local-storage-state';import{ProjectStorageKey}from'../Constants';import{defaultProjectData}from'../storage/Storage';import ProjectEdit from'./ProjectEdit';import ProjectList from'./ProjectList';import{projectStore}from'./ProjectStore';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var emptyProject={id:0,text:'',beginning:0,minutes:0};var Projects=function Projects(){var _useLocalStorageState=useLocalStorageState(ProjectStorageKey,{defaultValue:defaultProjectData}),_useLocalStorageState2=_slicedToArray(_useLocalStorageState,2),projectStorage=_useLocalStorageState2[0],setProjectStorage=_useLocalStorageState2[1];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),edit=_useState2[0],setEdit=_useState2[1];var save=function save(project){setEdit(false);projectStore(project,projectStorage,setProjectStorage);};var tallyMinutes=function tallyMinutes(project){project.minutes+=15;projectStore(project,projectStorage,setProjectStorage);};var orderedProjectSet={projects:projectStorage.projects.sort(function(a,b){if(b.minutes>a.minutes){return-1;}else{return 1;}}),last_id:projectStorage.last_id};return/*#__PURE__*/_jsxs(\"div\",{className:\"projects\",children:[/*#__PURE__*/_jsx(ProjectList,{projectSet:orderedProjectSet,tally:tallyMinutes}),edit&&/*#__PURE__*/_jsx(ProjectEdit,{project:emptyProject,save:save}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setEdit(true);},children:\"+\"})]});};export default Projects;","map":{"version":3,"names":["React","useState","useLocalStorageState","ProjectStorageKey","defaultProjectData","ProjectEdit","ProjectList","projectStore","emptyProject","id","text","beginning","minutes","Projects","defaultValue","projectStorage","setProjectStorage","edit","setEdit","save","project","tallyMinutes","orderedProjectSet","projects","sort","a","b","last_id"],"sources":["/Users/dhs/do-next/src/project/Projects.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport useLocalStorageState from 'use-local-storage-state'\nimport { ProjectStorageKey } from '../Constants'\nimport { Project, ProjectSet } from '../DoData'\nimport { defaultProjectData } from '../storage/Storage'\nimport ProjectEdit from './ProjectEdit'\nimport ProjectList from './ProjectList'\nimport { projectStore } from './ProjectStore'\n\nconst emptyProject: Project = {\n    id: 0,\n    text: '',\n    beginning: 0,\n    minutes: 0,\n}\n\nconst Projects = () => {\n    const [projectStorage, setProjectStorage] = useLocalStorageState(ProjectStorageKey, {\n        defaultValue: defaultProjectData\n    })\n    const [edit, setEdit] = useState(false)\n\n    const save = (project: Project) => {\n        setEdit(false)\n        projectStore(project, projectStorage, setProjectStorage)\n    }\n\n    const tallyMinutes = (project: Project) => {\n        project.minutes += 15\n        projectStore(project, projectStorage, setProjectStorage)\n    }\n\n    const orderedProjectSet: ProjectSet = {\n        projects: projectStorage.projects.sort((a, b) => { if (b.minutes > a.minutes) { return -1 } else { return 1 } }),\n        last_id: projectStorage.last_id,\n    }\n\n    return <div className='projects'>\n        <ProjectList projectSet={orderedProjectSet} tally={tallyMinutes} />\n        {edit && <ProjectEdit project={emptyProject} save={save} />}\n        <button onClick={() => setEdit(true)} >+</button>\n    </div>\n}\n\nexport default Projects\n"],"mappings":"wGAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,qBAAP,KAAiC,yBAAjC,CACA,OAASC,iBAAT,KAAkC,cAAlC,CAEA,OAASC,kBAAT,KAAmC,oBAAnC,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,MAAOC,YAAP,KAAwB,eAAxB,CACA,OAASC,YAAT,KAA6B,gBAA7B,C,wFAEA,GAAMC,aAAqB,CAAG,CAC1BC,EAAE,CAAE,CADsB,CAE1BC,IAAI,CAAE,EAFoB,CAG1BC,SAAS,CAAE,CAHe,CAI1BC,OAAO,CAAE,CAJiB,CAA9B,CAOA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACnB,0BAA4CX,oBAAoB,CAACC,iBAAD,CAAoB,CAChFW,YAAY,CAAEV,kBADkE,CAApB,CAAhE,gEAAOW,cAAP,2BAAuBC,iBAAvB,2BAGA,cAAwBf,QAAQ,CAAC,KAAD,CAAhC,wCAAOgB,IAAP,eAAaC,OAAb,eAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,CAACC,OAAD,CAAsB,CAC/BF,OAAO,CAAC,KAAD,CAAP,CACAX,YAAY,CAACa,OAAD,CAAUL,cAAV,CAA0BC,iBAA1B,CAAZ,CACH,CAHD,CAKA,GAAMK,aAAY,CAAG,QAAfA,aAAe,CAACD,OAAD,CAAsB,CACvCA,OAAO,CAACR,OAAR,EAAmB,EAAnB,CACAL,YAAY,CAACa,OAAD,CAAUL,cAAV,CAA0BC,iBAA1B,CAAZ,CACH,CAHD,CAKA,GAAMM,kBAA6B,CAAG,CAClCC,QAAQ,CAAER,cAAc,CAACQ,QAAf,CAAwBC,IAAxB,CAA6B,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAAE,GAAIA,CAAC,CAACd,OAAF,CAAYa,CAAC,CAACb,OAAlB,CAA2B,CAAE,MAAO,CAAC,CAAR,CAAW,CAAxC,IAA8C,CAAE,MAAO,EAAP,CAAU,CAAE,CAArG,CADwB,CAElCe,OAAO,CAAEZ,cAAc,CAACY,OAFU,CAAtC,CAKA,mBAAO,aAAK,SAAS,CAAC,UAAf,wBACH,KAAC,WAAD,EAAa,UAAU,CAAEL,iBAAzB,CAA4C,KAAK,CAAED,YAAnD,EADG,CAEFJ,IAAI,eAAI,KAAC,WAAD,EAAa,OAAO,CAAET,YAAtB,CAAoC,IAAI,CAAEW,IAA1C,EAFN,cAGH,eAAQ,OAAO,CAAE,yBAAMD,QAAO,CAAC,IAAD,CAAb,EAAjB,eAHG,GAAP,CAKH,CA1BD,CA4BA,cAAeL,SAAf"},"metadata":{},"sourceType":"module"}