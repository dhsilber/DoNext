{"ast":null,"code":"import _regeneratorRuntime from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/dhs/do-next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";// Stolen mostly from a StackOverflow article\nvar fileHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event,setData){var _target$files,_target$files$item;var target,blobData,_data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:target=event.target;_context.next=3;return(_target$files=target.files)===null||_target$files===void 0?void 0:(_target$files$item=_target$files.item(0))===null||_target$files$item===void 0?void 0:_target$files$item.text();case 3:blobData=_context.sent;if(blobData){_data=JSON.parse(blobData);setData(_data);}case 5:case\"end\":return _context.stop();}}},_callee);}));return function fileHandler(_x,_x2){return _ref.apply(this,arguments);};}();var LoadData=function LoadData(_ref2){var setData=_ref2.setData,prompt=_ref2.prompt;return/*#__PURE__*/_jsxs(\"div\",{children:[prompt,/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"text/json\",onInput:function onInput(event){return fileHandler(event,setData);}})]});};export default LoadData;","map":{"version":3,"names":["fileHandler","event","setData","target","files","item","text","blobData","data","JSON","parse","LoadData","prompt"],"sources":["/Users/dhs/do-next/src/LoadData.tsx"],"sourcesContent":["import { FormEvent } from \"react\"\n\n\n// Stolen mostly from a StackOverflow article\nconst fileHandler = async <Type,>(\n    event: FormEvent<HTMLInputElement>,\n    setData: (data: Type) => void\n) => {\n    const target = (event.target as HTMLInputElement)\n    const blobData = await target.files?.item(0)?.text()\n    if (blobData) {\n        const data = JSON.parse(blobData)\n        setData(data)\n    }\n}\n\nexport interface LoadDataProps<Type,> {\n    setData: (data: Type) => void\n    prompt: string\n}\n\nconst LoadData = <Type,>({ setData, prompt }: LoadDataProps<Type>) => {\n    return <div>\n        {prompt}\n        <input\n            type=\"file\"\n            accept=\"text/json\"\n            onInput={(event) => fileHandler(event, setData)}\n        />\n    </div>\n}\n\nexport default LoadData\n"],"mappings":"wTAGA;AACA,GAAMA,YAAW,4FAAG,iBAChBC,KADgB,CAEhBC,OAFgB,mLAIVC,MAJU,CAIAF,KAAK,CAACE,MAJN,sCAKOA,MAAM,CAACC,KALd,4DAKO,cAAcC,IAAd,CAAmB,CAAnB,CALP,6CAKO,mBAAuBC,IAAvB,EALP,QAKVC,QALU,eAMhB,GAAIA,QAAJ,CAAc,CACJC,KADI,CACGC,IAAI,CAACC,KAAL,CAAWH,QAAX,CADH,CAEVL,OAAO,CAACM,KAAD,CAAP,CACH,CATe,sDAAH,kBAAXR,YAAW,gDAAjB,CAiBA,GAAMW,SAAQ,CAAG,QAAXA,SAAW,OAAqD,IAA3CT,QAA2C,OAA3CA,OAA2C,CAAlCU,MAAkC,OAAlCA,MAAkC,CAClE,mBAAO,uBACFA,MADE,cAEH,cACI,IAAI,CAAC,MADT,CAEI,MAAM,CAAC,WAFX,CAGI,OAAO,CAAE,iBAACX,KAAD,QAAWD,YAAW,CAACC,KAAD,CAAQC,OAAR,CAAtB,EAHb,EAFG,GAAP,CAQH,CATD,CAWA,cAAeS,SAAf"},"metadata":{},"sourceType":"module"}